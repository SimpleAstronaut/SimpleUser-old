# SimpleUser-old Version
简单云账户-旧版本后端服务器

## 说明
简单云账户v1.0版本上线于2022-1-22，上线期间经历了数次迭代和升级，但是由于开发之初架构问题和当时水平受限，数次迭代和更新使得代码冗长复杂，维护困难，问题频发。  
为此，我将后端代码全部重新开发，换用了node.js作为后端开发语言，全新升级了鉴权系统，对后端代码进行了大范围优化，详细更新请前往 [简单设计官网]('https://jdsj.site')了解情况。

如你所见，v1.0版本所暴露出的问题导致我们不得不将其下线和弃用，这个仓库中包含了v1.0版本的全部后端代码。  
由于作者当时技术有限，这些代码可能漏洞百出，仅供参考  

## 文件结构
简单云账户v1.0采用了微服务架构，每一个功能由单独的微服务构成，下表列出了文件所对应的功能  

| 文件 | 所属服务 | 功能 |
| ---- | ---- | ---- |
| acckey.php | 鉴权系统 | 接收客户端上传的用户名和密码，生成acckey |
| accserver.php | 鉴权系统 | 接收服务端acckey，返回给服务端acckey对应的用户名密码 |
| changeinfo.php | 用户系统 | 接收用户名和token，修改用户基本信息 |
| changemail.php | 用户系统 | 修改用户电子邮件地址 |
| getstat.php | 用户系统 | 获取用户状态 |
| mail.php | 邮件系统 | 注册过程中验证电子邮件次一级路由 |
| refreshtoken.php | 鉴权系统 | 更新token |
| server.php | 主系统 | 主系统 |
| signup.php | 用户系统 | 注册用户 |
| token.php | 鉴权系统 | 获取ackey对应的用户名密码并验证，若正确则颁发时效性token |
| user.php | 用户系统 | 用户系统主路由 |
| /mailserver/app.py | 邮件系统 | 发送电子邮件程序 |

更详细的api文档信息请参考 [api文档](api.md)